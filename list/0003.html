<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Horn App</title>
    <style>
        /* 확대 방지를 위해 모든 요소에 적용 */
        * {
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }
        body {
            text-align: center;
            margin-top: 50px;
        }
        @media (min-width: 600px) {
            body {
                width: 600px;
                min-height: 800px;
                margin: 0.5vh auto !important;
                border: 2px solid #d3d3d360; 
                border-radius: 15px;
                box-sizing: border-box; 
            }
        }
        #hornButton {
            background: url('../images/0003.png') no-repeat center;
            width: 350px;
            height: 350px;
            border: none;
            background-size: contain;
            user-select: none;
        }
        #hornButton:active {
            transform: scale(0.95);
        }
        h1 {
            font-size: 24px;
            user-select: none;
        }
        h3 {
            user-select: none;
        }
    </style>
</head>
<body>
    <h3>Turn on the volume and Click image</h3>
    <button id="hornButton"></button>
    <audio id="hornSound" src="../sounds/0003.mp3" loop></audio>

    <script>
        const hornButton = document.getElementById('hornButton');
        const hornSound = document.getElementById('hornSound');

        const playSound = () => {
            hornSound.play();
            if (navigator.vibrate) {
                navigator.vibrate(50); // 진동 50ms
            }
        };

        const stopSound = () => {
            hornSound.pause();
            hornSound.currentTime = 0; // 오디오 재생을 처음으로 되돌림
        };

        hornButton.addEventListener('mousedown', playSound);
        hornButton.addEventListener('mouseup', stopSound);
        hornButton.addEventListener('mouseleave', stopSound);

        hornButton.addEventListener('touchstart', playSound);
        hornButton.addEventListener('touchend', stopSound);
    </script>
</body>
</html>